!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function s(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function n(e){return!/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/.test(e.value)}function a(e){return!/^([А-ЯЇЄІҐA-Z][а-яїєіґa-z']+\s[А-ЯЇЄІҐA-Z][а-яїєіґa-z']+)$/.test(e.value)}function r(e){return!/^(\+?38)?\s?(\(?0\d{2}\)?)\s?\d{3}[-\s]?\d{2}[-\s]?\d{2}$/.test(e.value)}function o(e){return!/^.{80,}$/.test(e.value)}e.addEventListener("submit",(async function(i){i.preventDefault();let l=function(e){let i=0,l=document.querySelectorAll("._req");for(let e=0;e<l.length;e++){const c=l[e];s(c),c.classList.contains("_email")?n(c)&&(t(c),i++):c.classList.contains("_name")?a(c)&&(t(c),i++):c.classList.contains("_phone")?r(c)&&(t(c),i++):c.classList.contains("_text")&&o(c)&&(t(c),i++)}return i}(),c=new FormData(e);if(console.log("DATA",c),0===l){e.classList.add("_sending");let t=await fetch("sendmail.php",{method:"POST",body:c});if(t.ok){let s=await t.json();alert(s.message),e.reset(),e.classList.remove("_sending")}else alert("Сталася помилка!"),e.classList.remove("_sending")}else alert("Заповніть всі обов'язкові поля")}))}())}();